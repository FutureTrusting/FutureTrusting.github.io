---
layout:     post
title:      JAVA网络
subtitle:   JAVA网络
date:       2020-04-05
author:     Square
header-img: img/wallhaven-zm3mxw.jpg
catalog: true
tags:
    - Interview
---

#### 网络
##### 1、OSI与TCP/IP各层的结构与功能,都有哪些协议?
计算机网络体系结构：
OSI的体系结构:  
1.物理层 -> 2.数据链路层 -> 3.网络层-> 4.运输层 -> 5.会话层 -> 6.表示层 -> 7.应用层  
TCP/IP的体系结构:  
网络接口层 -> 网络层IP -> 运输层(TCP或UDP) -> 应用层（各种应用层协议如TELNET,FTP,SMTP等）  
五层协议的体系结构:
1.物理层 -> 2.数据链路层 -> 3.网络层 -> 4.运输层 -> 5.应用层 
##### 2、TCP 三次握手
- 客户端–发送带有 SYN 标志的数据包–一次握手–服务端          
第一次握手：Client 什么都不能确认；Server 确认了对方发送正常，自己接收正常
- 服务端–发送带有 SYN/ACK 标志的数据包–二次握手–客户端       
第二次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：对方发送正常，自己接收正常
- 客户端–发送带有带有 ACK 标志的数据包–三次握手–服务端        
第三次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送、接收正常   

##### 3、TCP 四次挥手
- 客户端-发送一个 FIN，用来关闭客户端到服务器的数据传送
- 服务器-收到这个 FIN，它发回一 个 ACK，确认序号为收到的序号加1 。和 SYN 一样，一个 FIN 将占用一个序号
- 服务器-关闭与客户端的连接，发送一个FIN给客户端
- 客户端-发回 ACK 报文确认，并将确认序号设置为收到序号加1  

##### 4、在浏览器中输入url地址 ->> 显示主页的过程(面试常客)  
1. DNS解析
2. TCP连接
3. 发送HTTP请求
4. 服务器处理请求并返回HTTP报文
5. 浏览器解析渲染页面
6. 连接结束  

##### 5、Cookie的作用是什么?和Session有什么区别？
Cookie 一般用来保存用户信息 
Session 的主要作用就是通过服务端记录用户的状态。
Cookie 数据保存在客户端(浏览器端)，Session 数据保存在服务器端。
Session 安全性更高。   

##### 6、HTTP 和 HTTPS 的区别？   
端口 ：HTTP的URL由“http://”起始且默认使用端口80，而HTTPS的URL由“https://”起始且默认使用端口443。
安全性和资源消耗： 
HTTP协议运行在TCP之上，所有传输的内容都是明文，客户端和服务器端都无法验证对方的身份。
HTTPS是运行在SSL/TLS之上的HTTP协议，所有传输的内容都经过加密。  

##### 7、说一下 tcp 粘包是怎么产生的？  
发送方产生粘包    
采用 TCP 协议传输数据的客户端与服务器经常是保持一个长连接的状态（ 一次连接发一次数据不存在粘包）,   
双方在连接不断开的情况下， 可以一直传输数据；   
但当发送的数据包过于的小时， 那么 TCP 协议默认的会启用 Nagle 算法，    
将这些较小的数据包进行合并发送（ 缓冲区数据发送是一个堆压的过程） ；   
这个合并过程就是在发送缓冲区中进行的，   
也就是说数据发送出来它已经是粘包的状态了。  
接收方产生粘包    
接收方采用 TCP 协议接收数据时的过程是这样的： 数据到底接收方，   
从网络模型的下方传递至传输层， 传输层的 TCP 协议处理是将其放置接收缓冲区，   
然后由应用层来主动获取（ C 语言用 recv、 read 等函数） ； 这时会出现一个问题，   
就是我们在程序中调用的读取数据函数不能及时的把缓冲区中的数据拿出来，  
而下一个数据又到来并有一部分放入的缓冲区末尾，   
等我们读取数据时就是一个粘包。 （ 放数据的速度 > 应用层拿数据速度）  